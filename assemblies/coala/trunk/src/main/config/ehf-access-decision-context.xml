<?xml version="1.0" encoding="UTF-8"?>

<!--                                         -->
<!-- ICW eHF Standard Configuration          -->
<!-- Created by the ICW eHF Project Template -->
<!--                                         -->
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ehf="http://www.intercomponentware.com/schema/ehf-commons"
    xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.intercomponentware.com/schema/ehf-commons http://www.intercomponentware.com/schema/ehf-commons/ehf-commons.xsd">


	<!-- ================================================================ -->
    <!--  AccessDecisionEngine	                                          -->
    <!-- ================================================================ -->
    <bean id="accessDecisionEngine"
    	class="com.icw.ehf.authorization.voter.FirstPermitOrDenyDecisionEngine">
    	<property name="voters">
    		<list>
    			<ref bean="accessManagerTarget"/>
    			<ref bean="containerBasedAccessDecisionVoter"/>
    		</list>
    	</property>    
    </bean>
    
    
    <!-- ================================================================ -->
    <!--  Container Based AccessDecisionVoter                             -->
    <!-- ================================================================ -->    
    <ehf:definition-extension target-module-id="compositionModule"
    	target-bean-name="containerBasedAccessDecisionVoter">
    	<ehf:property name="instanceBasedAccessDecisionVoter" ref="accessManagerTarget" />  
    </ehf:definition-extension>
        
</beans>
